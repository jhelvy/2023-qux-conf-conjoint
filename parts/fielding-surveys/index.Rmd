---
title: "Fielding Surveys with formr"
date: June 15, 2023
author: "John Paul Helveston, Ph.D."
institute: "The George Washington University | Dept. of Engineering Management and Systems Engineering"
output:
  xaringan::moon_reader:
    css:
      - default
      - css/lexis.css
      - css/lexis-fonts.css
    lib_dir: libs
    seal: false
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: "16:9"
---

```{r setup, include=FALSE}
library(knitr)
library(tidyverse)
library(fontawesome)
library(metathis)

options(
  htmltools.dir.version = FALSE,
  knitr.table.format = "html",
  knitr.kable.NA = '',
  dplyr.width = Inf,
  width = 250
)

knitr::opts_chunk$set(
  cache = FALSE,
  warning = FALSE,
  message = FALSE,
  fig.path = "figs/",
  fig.width = 7.252,
  fig.height = 4,
  comment = "#>",
  fig.retina = 3
)

# Setup xaringanExtra options
xaringanExtra::use_xaringan_extra(c(
  "tile_view", "panelset", "clipboard", "share_again"))
xaringanExtra::style_share_again(share_buttons = "none")
xaringanExtra::use_extra_styles(
  hover_code_line = TRUE,
  mute_unhighlighted_code = FALSE
)

# Set up website metadata
meta() %>%
  meta_general(
    description = rmarkdown::metadata$subtitle,
    generator = "xaringan and remark.js"
  ) %>%
  meta_name("github-repo" = "jhelvy/2023-qux-conf-conjoint") %>%
  meta_social(
    title = rmarkdown::metadata$title,
    url = "https://jhelvy.github.io/2023-qux-conf-conjoint/",
    og_type = "website",
    og_author = "John Paul Helveston",
    twitter_card_type = "summary_large_image",
    twitter_creator = "@johnhelveston"
  )
```

layout: true

---

class: middle, inverse

## .center[`r rmarkdown::metadata$title`]

.leftcol40[

<center>
<img src="https://jhelvy.github.io/2023-qux-conf-conjoint/images/logo.png" width=300>
</center>

]

.rightcol60[

### `r fontawesome::fa(name = "user", fill = "white")` `r rmarkdown::metadata$author`
### `r fontawesome::fa(name = "university", fill = "white")` `r rmarkdown::metadata$institute`
### `r fontawesome::fa(name = "calendar-alt", fill = "white")` `r rmarkdown::metadata$date`

]

---

# Strategy for building a survey in [formr](https://formr.org/)

<br>

## - Use _RMarkdown / html_ to create survey elements

## - Copy elements to a _Google Sheet_

## - Import Google Sheets into formr _surveys_

## - Link surveys together in formr _runs_

---

class: center, middle

# Start in RMarkdown

## See `demoSurvey.Rmd`

---

# Some Guidelines

- Use `---` to indicate new pages (this inserts a horizontal line)

--

- Be sure that any data / images are hosted somewhere on the web

--

- Consider each new page a **New R Session** (reload libraries, etc.)

---

# Embedding images

I recommend just writing html code, like this

```{html, eval=FALSE}
<img src="https://github.com/jhelvy/2023-qux-conf-conjoint/blob/main/images/logo.png?raw=true" width=250>
```

<img src="https://github.com/jhelvy/2023-qux-conf-conjoint/blob/main/images/logo.png?raw=true" width=250>

---

# Centered image

I recommend just writing html code, like this

```{html, eval=FALSE}
<center>
<img src="https://github.com/jhelvy/2023-qux-conf-conjoint/blob/main/images/logo.png?raw=true" width=250>
</center>
```

<center>
<img src="https://github.com/jhelvy/2023-qux-conf-conjoint/blob/main/images/logo.png?raw=true" width=250>
</center>

---

# Check your urls carefully!

<br>

This is the link to the **Github page** with the image:

https://github.com/jhelvy/2023-qux-conf-conjoint/blob/main/images/logo.png

This is the link to the **actual image**:

https://github.com/jhelvy/2023-qux-conf-conjoint/blob/main/images/logo.png?raw=true

---

class: middle, center

# [Demo survey](https://docs.google.com/spreadsheets/d/13jSdlIDFRVsIHbiObgyZlPTGovIcB-xDQ0dkhL75fZQ/edit?usp=sharing)

---

# .center[formr row types [(more here)](https://formr.org/documentation#available_items)]

Type | Description
-----|---------------------
`note` | Display content in `label` column
`submit` | Next page button
`mc` | Multiple choice question (single choice)
`mc_multiple` | Multiple choice question (multiple choices)
`mc_button` | Multiple choice question (large buttons)
`select_one` | Drop down menu (choose one)
`text` | Open text, single row
`textarea` | Open text, block

---

# Two ways to define choice options

.leftcol[

Add "choice" columns

<center>
<img src="images/choices.png" width=100%>
</center>

]

--

.rightcol[

Use `choices` tab<br>(when you have a lot of choices)

Example: "Year of birth" in [randomImagesDemo](https://docs.google.com/spreadsheets/d/1hs551J6PYJNxc4sftmJyUqj6XYGYFVnN_5faQBWY7cs/edit?usp=sharing)

]

---

class: center, middle

# Control the way things look in `class` column

# ([options here](https://formr.org/documentation#sample_survey_sheet))

---

class: center

# Importing survey into formr

### formr.org --> Admin --> Surveys --> Create new survey

### (Make sure your Google Sheet is visible!)

<center>
<img src="images/gsheetlink.png" width=600>
</center>

---

class: center

# Make a run

## formr.org --> Admin --> Runs --> Create new run

--

<br>

# Insert survey with `r fa("pencil-square")`

--

<br>

# Insert stop with `r fa("stop")`

---

class: center

## Change order by adjusting numbers & clicking "Reorder"

<center>
<img src="images/order.png" width=500>
</center>

---

class: center, middle

# Make it "live" with the volume buttons

<center>
<img src="images/publicness.png" width=1000>
</center>

---

class: center

# Fine tune look & feel in "Settings"

---

class: center, middle, inverse

# Making a _conjoint_ survey in formr

---

# 3 Parts

<br>

- ### **Part 1**: Intro
- ### **Part 2**: Conjoint questions
- ### **Part 3**: Other / demographic questions


---

# 3 Parts

<br>

- ### **Part 1**: Intro --> .red[screen for target population]
- ### **Part 2**: Conjoint questions --> .red[screen for random answers]
- ### **Part 3**: Other / demographic questions

---



---

class: inverse

<br>

## .center[Back to workshop website:<br><br> https://jhelvy.github.io/2023-qux-conf-conjoint/]

.footer-large[

.right[

@JohnHelveston `r fa(name = "twitter", fill = "white")`<br>
@jhelvy `r fa(name = "github", fill = "white")`<br>
@jhelvy `r fa(name = "weixin", fill = "white")`<br>
jhelvy.com `r fa(name = "link", fill = "white")`<br>
jph@gwu.edu `r fa(name = "paper-plane", fill = "white")`

]]
